{"ast":null,"code":"import { categoryActions } from \"../slices/categorySlice\";\nimport request from \"../../utils/request\";\nimport { toast } from \"react-toastify\";\n\n// Fetch All Categories\nexport function fetchCategories() {\n  return async dispatch => {\n    try {\n      const {\n        data\n      } = await request.get(\"/api/categories\");\n      dispatch(categoryActions.setCategories(data));\n    } catch (error) {\n      toast.error(error.response.data.message);\n    }\n  };\n}\n\n// Create Category\nexport function createCategory(newCategory) {\n  return async (dispatch, getState) => {\n    try {\n      const {\n        data\n      } = await request.post(\"/api/categories\", newCategory, {\n        headers: {\n          Authorization: \"Bearer \" + getState().auth.user.token\n        }\n      });\n      dispatch(categoryActions.addCategory(data));\n      toast.success(\"category created successfully\");\n    } catch (error) {\n      toast.error(error.response.data.message);\n    }\n  };\n}\n\n// Delete Category\nexport function deleteCategory(categoryId) {\n  return async (dispatch, getState) => {\n    try {\n      const {\n        data\n      } = await request.delete(`/api/categories/${categoryId}`, {\n        headers: {\n          Authorization: \"Bearer \" + getState().auth.user.token\n        }\n      });\n      dispatch(categoryActions.deleteCategory(data.categoryId));\n      toast.success(data.message);\n    } catch (error) {\n      toast.error(error.response.data.message);\n    }\n  };\n}","map":{"version":3,"names":["categoryActions","request","toast","fetchCategories","dispatch","data","get","setCategories","error","response","message","createCategory","newCategory","getState","post","headers","Authorization","auth","user","token","addCategory","success","deleteCategory","categoryId","delete"],"sources":["D:/Blog-pro/frontend/src/redux/apiCalls/categoryApiCall.js"],"sourcesContent":["import { categoryActions } from \"../slices/categorySlice\";\nimport request from \"../../utils/request\";\nimport { toast } from \"react-toastify\";\n\n// Fetch All Categories\nexport function fetchCategories() {\n  return async (dispatch) => {\n    try {\n      const { data } = await request.get(\"/api/categories\");\n      dispatch(categoryActions.setCategories(data));\n    } catch (error) {\n      toast.error(error.response.data.message);\n    }\n  };\n}\n\n// Create Category\nexport function createCategory(newCategory) {\n  return async (dispatch,getState) => {\n    try {\n      const { data } = await request.post(\"/api/categories\", newCategory, {\n        headers: {\n          Authorization: \"Bearer \" + getState().auth.user.token,\n        }\n      });\n      dispatch(categoryActions.addCategory(data));\n      toast.success(\"category created successfully\");\n    } catch (error) {\n      toast.error(error.response.data.message);\n    }\n  };\n}\n\n// Delete Category\nexport function deleteCategory(categoryId) {\n  return async (dispatch,getState) => {\n    try {\n      const { data } = await request.delete(`/api/categories/${categoryId}`, {\n        headers: {\n          Authorization: \"Bearer \" + getState().auth.user.token,\n        }\n      });\n      dispatch(categoryActions.deleteCategory(data.categoryId));\n      toast.success(data.message);\n    } catch (error) {\n      toast.error(error.response.data.message);\n    }\n  };\n}"],"mappings":"AAAA,SAASA,eAAe,QAAQ,yBAAyB;AACzD,OAAOC,OAAO,MAAM,qBAAqB;AACzC,SAASC,KAAK,QAAQ,gBAAgB;;AAEtC;AACA,OAAO,SAASC,eAAeA,CAAA,EAAG;EAChC,OAAO,MAAOC,QAAQ,IAAK;IACzB,IAAI;MACF,MAAM;QAAEC;MAAK,CAAC,GAAG,MAAMJ,OAAO,CAACK,GAAG,CAAC,iBAAiB,CAAC;MACrDF,QAAQ,CAACJ,eAAe,CAACO,aAAa,CAACF,IAAI,CAAC,CAAC;IAC/C,CAAC,CAAC,OAAOG,KAAK,EAAE;MACdN,KAAK,CAACM,KAAK,CAACA,KAAK,CAACC,QAAQ,CAACJ,IAAI,CAACK,OAAO,CAAC;IAC1C;EACF,CAAC;AACH;;AAEA;AACA,OAAO,SAASC,cAAcA,CAACC,WAAW,EAAE;EAC1C,OAAO,OAAOR,QAAQ,EAACS,QAAQ,KAAK;IAClC,IAAI;MACF,MAAM;QAAER;MAAK,CAAC,GAAG,MAAMJ,OAAO,CAACa,IAAI,CAAC,iBAAiB,EAAEF,WAAW,EAAE;QAClEG,OAAO,EAAE;UACPC,aAAa,EAAE,SAAS,GAAGH,QAAQ,CAAC,CAAC,CAACI,IAAI,CAACC,IAAI,CAACC;QAClD;MACF,CAAC,CAAC;MACFf,QAAQ,CAACJ,eAAe,CAACoB,WAAW,CAACf,IAAI,CAAC,CAAC;MAC3CH,KAAK,CAACmB,OAAO,CAAC,+BAA+B,CAAC;IAChD,CAAC,CAAC,OAAOb,KAAK,EAAE;MACdN,KAAK,CAACM,KAAK,CAACA,KAAK,CAACC,QAAQ,CAACJ,IAAI,CAACK,OAAO,CAAC;IAC1C;EACF,CAAC;AACH;;AAEA;AACA,OAAO,SAASY,cAAcA,CAACC,UAAU,EAAE;EACzC,OAAO,OAAOnB,QAAQ,EAACS,QAAQ,KAAK;IAClC,IAAI;MACF,MAAM;QAAER;MAAK,CAAC,GAAG,MAAMJ,OAAO,CAACuB,MAAM,CAAC,mBAAmBD,UAAU,EAAE,EAAE;QACrER,OAAO,EAAE;UACPC,aAAa,EAAE,SAAS,GAAGH,QAAQ,CAAC,CAAC,CAACI,IAAI,CAACC,IAAI,CAACC;QAClD;MACF,CAAC,CAAC;MACFf,QAAQ,CAACJ,eAAe,CAACsB,cAAc,CAACjB,IAAI,CAACkB,UAAU,CAAC,CAAC;MACzDrB,KAAK,CAACmB,OAAO,CAAChB,IAAI,CAACK,OAAO,CAAC;IAC7B,CAAC,CAAC,OAAOF,KAAK,EAAE;MACdN,KAAK,CAACM,KAAK,CAACA,KAAK,CAACC,QAAQ,CAACJ,IAAI,CAACK,OAAO,CAAC;IAC1C;EACF,CAAC;AACH","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}